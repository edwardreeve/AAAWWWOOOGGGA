@model QuizManager.Models.Quiz

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1> @Html.DisplayFor(model => model.Name)</h1>

<div>
    <h4>Questions</h4>
    <hr />
    <dl class="row">
        <div class="container " id="quizDetailsQuestion">
            <ol>
                @{var counter = 1;
                    foreach (var question in @Model.Questions)
                    {
                        <li>
                            <div class="card">
                                <div class="card-header" id="heading-@counter">
                                    <h2 class="mb-0">
                                        <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapse-@counter" aria-expanded="true" aria-controls="collapse-@counter">
                                            @question.QuestionText
                                        </button>
                                    </h2>
                                </div>
                                <div id="collapse-@counter" class="collapse" aria-labelledby="heading-@counter" data-parent="#quizDetailsQuestion">
                                    <div class="card-body">
                                        @foreach (var answer in @question.AnswerOptions)
                                        {
                                            <div>@answer.AnswerText</div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </li>
                        counter += 1;
                    }
                }
            </ol>
        </div>
    </dl>
</div>
<div>
    @if (User.IsInRole("Edit"))
    {
        <a asp-action="Edit" asp-route-id="@Model.QuizId">Edit</a>
    }
    <a asp-action="Index">Back to List</a>
</div>

